(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{81:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a,c,r=n(0),s=n.n(r),i=n(28),o=n.n(i),l=(n(81),n(21)),j=n(76),d=n(115),b=n(117),u=n(114),h=n(75),m=n(34),O=n(11),p=(n(82),n(2)),x=function(){return Object(p.jsx)("h1",{children:"Hello Home"})},g=n(37),f=n.n(g),v=n(52),k=n(33),w=n(39),y=n(118),S=n(61),N=n(116),I=Object(N.a)(a||(a=Object(S.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n        token\n        profile {\n            _id\n            name\n        }\n    }\n}"]))),C=Object(N.a)(c||(c=Object(S.a)(["\n  mutation addProfile($name: String!, $email: String!, $password: String!) {\n    addProfile(name: $name, email: $email, password: $password) {\n      token\n      profile {\n        _id\n        name\n      }\n    }\n  }\n"]))),T=n(69),$=n(70),L=n(62),A=new(function(){function e(){Object(T.a)(this,e)}return Object($.a)(e,[{key:"getProfile",value:function(){return Object(L.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(L.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),D=function(e){var t=Object(r.useState)({email:"",password:""}),n=Object(w.a)(t,2),a=n[0],c=n[1],s=Object(y.a)(I),i=Object(w.a)(s,2),o=i[0],j=i[1],d=j.error,b=j.data,u=function(e){var t=e.target,n=t.name,r=t.value;c(Object(l.a)(Object(l.a)({},a),{},Object(k.a)({},n,r)))},h=function(){var e=Object(v.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a),e.prev=2,e.next=5,o({variables:Object(l.a)({},a)});case 5:n=e.sent,r=n.data,A.login(r.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:c({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(p.jsx)("div",{className:"col-12 col-lg-10",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object(p.jsxs)("div",{className:"card-body",children:[b?Object(p.jsxs)("p",{children:["Success! You may now head"," ",Object(p.jsx)(m.b,{to:"/",children:"back to the homepage."})]}):Object(p.jsxs)("form",{onSubmit:h,children:[Object(p.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:u}),Object(p.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:u}),Object(p.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),d&&Object(p.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:d.message})]})]})})})},F=function(){var e=Object(r.useState)({name:"",email:"",password:""}),t=Object(w.a)(e,2),n=t[0],a=t[1],c=Object(y.a)(C),s=Object(w.a)(c,2),i=s[0],o=s[1],j=o.error,d=o.data,b=function(e){var t=e.target,c=t.name,r=t.value;a(Object(l.a)(Object(l.a)({},n),{},Object(k.a)({},c,r)))},u=function(){var e=Object(v.a)(f.a.mark((function e(t){var a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,i({variables:Object(l.a)({},n)});case 5:a=e.sent,c=a.data,A.login(c.addProfile.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(p.jsx)("div",{className:"col-12 col-lg-10",children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(p.jsxs)("div",{className:"card-body",children:[d?Object(p.jsxs)("p",{children:["Success! You may now head"," ",Object(p.jsx)(m.b,{to:"/",children:"back to the homepage."})]}):Object(p.jsxs)("form",{onSubmit:u,children:[Object(p.jsx)("input",{className:"form-input",placeholder:"Your username",name:"name",type:"text",value:n.name,onChange:b}),Object(p.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:n.email,onChange:b}),Object(p.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:b}),Object(p.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),j&&Object(p.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:j.message})]})]})})})},P=function(){return Object(p.jsxs)("header",{children:[Object(p.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",integrity:"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC",crossOrigin:"anonymous"}),Object(p.jsx)("h1",{children:"My Header"})]})},_=function(){return Object(p.jsx)("h1",{children:"Hello Footer"})},Y=function(){return Object(p.jsx)("h1",{children:"Page Not Found"})},E=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Available Audits"})})},H=n(47),z=n(74),B=n(32),J=n(48),Q=function(){return Object(p.jsx)(H.a,{bg:"light",expand:"lg",children:Object(p.jsxs)(z.a,{fluid:!0,children:[Object(p.jsx)(H.a.Brand,{href:"/",children:"ARCHSE"}),Object(p.jsx)(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(H.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(J.a,{className:"me-auto",children:[Object(p.jsx)(J.a.Link,{href:"/login",children:"Login"}),Object(p.jsx)(J.a.Link,{href:"/signup",children:"Sign Up"}),Object(p.jsx)(J.a.Link,{href:"/audits",children:"Audits"}),Object(p.jsxs)(B.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(p.jsx)(B.a.Item,{href:"#action/3.1",children:"Action"}),Object(p.jsx)(B.a.Item,{href:"#action/3.2",children:"Another action"}),Object(p.jsx)(B.a.Item,{href:"#action/3.3",children:"Something"}),Object(p.jsx)(B.a.Divider,{}),Object(p.jsx)(B.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})},M=Object(j.a)({uri:"/graphql"}),U=Object(h.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),V=new d.a({link:U.concat(M),cache:new b.a});var q=function(){return Object(p.jsx)(u.a,{client:V,children:Object(p.jsxs)(m.a,{children:[Object(p.jsx)(P,{}),Object(p.jsx)(Q,{}),Object(p.jsxs)(O.c,{children:[Object(p.jsx)(O.a,{exact:!0,path:"/",children:Object(p.jsx)(x,{})}),Object(p.jsx)(O.a,{exact:!0,path:"/login",children:Object(p.jsx)(D,{})}),Object(p.jsx)(O.a,{exact:!0,path:"/signup",children:Object(p.jsx)(F,{})}),Object(p.jsx)(O.a,{exact:!0,path:"/audits",children:Object(p.jsx)(E,{})}),Object(p.jsx)(O.a,{exact:!0,path:"*",children:Object(p.jsx)(Y,{})})]}),Object(p.jsx)(_,{})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root")),G()}},[[97,1,2]]]);
//# sourceMappingURL=main.562d7cf8.chunk.js.map